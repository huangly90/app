<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet">

    <title>世界,你好</title>
    <style>
        .carousel-item img {
        }
    </style>
</head>
<body>

<div class="container">
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
        <li class="nav-item">
            <a aria-controls="pills-home" aria-selected="true" class="nav-link active" data-toggle="pill"
               href="#pills-home"
               id="pills-home-tab" role="tab">首页</a>
        </li>
        <li class="nav-item">
            <a aria-controls="pills-profile" aria-selected="false" class="nav-link" data-toggle="pill"
               href="#pills-profile"
               id="pills-profile-tab" role="tab">照片</a>
        </li>
        <li class="nav-item">
            <a aria-controls="pills-contact" aria-selected="false" class="nav-link" data-toggle="pill"
               href="#pills-contact"
               id="pills-contact-tab" role="tab">更多</a>
        </li>
        <li class="nav-item">
            <a aria-controls="pills-about" aria-selected="false" class="nav-link" data-toggle="pill"
               href="#pills-about"
               id="pills-about-tab" role="tab">关于</a>
        </li>
    </ul>
    <div class="tab-content" id="pills-tabContent">
        <div aria-labelledby="pills-home-tab" class="tab-pane fade show active" id="pills-home" role="tabpanel">
            <!-- 留言区-->
            <form action="javascript:void(0)" id="myform" method="post">
                <div class="form-group">
                    <label>姓名</label>
                    <input aria-describedby="nameHelp" class="form-control" name="user" placeholder="请在此输入您的姓名"
                           th:value="${session.user}" type="text">
                    <small class="form-text text-muted" id="nameHelp"></small>
                </div>
                <div class="form-group">
                    <label>留言</label>
                    <textarea class="form-control" name="content" placeholder="你有什么要说的吗" rows="3"></textarea>
                </div>
                <button class="btn btn-primary" type="submit">提交</button>
                <a class="btn btn-success" th:href="@{/msg/list}" role="button">查看</a>
            </form>
            <!-- 留言区-->
            <span id="hitspan" style="color: red"></span>
        </div>
        <div aria-labelledby="pills-profile-tab" class="tab-pane fade" id="pills-profile" role="tabpanel">
            <!-- 轮播图 -->
            <div class="carousel slide" data-ride="carousel" id="carouselExampleControls">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img alt="Zero slide" class="d-block w-100 img-fluid"
                             th:src="@{/images/tansongyun/pic0.jpg}">
                    </div>
                    <div class="carousel-item ">
                        <img class="d-block w-100 img-fluid"
                             th:src="@{/images/tansongyun/pic1.jpg}"
                             alt="First slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100 img-fluid"
                             th:src="@{/images/tansongyun/pic2.jpg}"
                             alt="Second slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100 img-fluid"
                             th:src="@{/images/tansongyun/pic3.jpg}"
                             alt="Third slide">
                    </div>

                    <div class="carousel-item ">
                        <img alt="Four slide" class="d-block w-100 img-fluid"
                             th:src="@{/images/tansongyun/pic4.jpg}">
                    </div>

                </div>
                <a class="carousel-control-prev" data-slide="prev" href="#carouselExampleControls" role="button">
                    <span aria-hidden="true" class="carousel-control-prev-icon"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" data-slide="next" href="#carouselExampleControls" role="button">
                    <span aria-hidden="true" class="carousel-control-next-icon"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <!-- 轮播图 -->
        </div>
        <div aria-labelledby="pills-contact-tab" class="tab-pane fade" id="pills-contact" role="tabpanel">
            <div class="alert alert-info" role="alert">
                <p> Just for practice</p>
                <p> If you have any good ideas or suggestions, please leave me a message,of course,I will reply to your
                    message in the first time</p>
                <p>Thanks</p>

            </div>
        </div>
        <div aria-labelledby="pills-about-tab" class="tab-pane fade" id="pills-about" role="tabpanel">
            <div class="card" style="width: 100%;">
              <!--  class="img-fluid"-->
                <img class="card-img-top" th:src="@{/images/tansongyun/pic0.jpg}" >
                <div class="card-body">
                    <p class="card-text">遇见你的时候所有星星都落到我头上.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- model-->
    <div class="modal fade" id="modelDialog" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">提示</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script crossorigin="anonymous"
        src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script th:src="@{/js/common.js}"></script>
<script crossorigin="anonymous"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


<script th:inline="javascript" type="text/javascript">
    var basePath = [[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]];
    console.log(basePath);
    $(function () {
        $("button[type=submit]").on("click", (function (e) {
            if (!formValid()) {
                hip("请填全相关内容");
                return;
            }
            $.ajax({
                "url": basePath + "/msg/add",
                "type": "post",
                "data": JSON.stringify($("#myform").serializeObject()),
                "dataType": "text",
                "contentType": "application/json",
                "success": function (data, textStatus, jqXHR) {
                    if (data == 'true') {
                        hip("留言成功,可以点击'查看'按钮来查看留言...");
                    } else {
                        console.log(data);
                        hip("留言失败,请联系管理员!");
                    }
                },
                "error": function (xmlHttpRequest, textStatus, errorThrown) {
                    hip("留言失败,请联系管理员!");
                    console.error(errorThrown);
                }
            });
        }));
    })
</script>
</body>
</html>